// app global css in SCSS form

// Import Inter font from Google Fonts
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap');

// Import Quasar's default styles
@import 'quasar.variables.scss';

// Global layout stabilization to prevent ResizeObserver errors
* {
  box-sizing: border-box;
  font-family: 'Inter', sans-serif;
}

html,
body {
  contain: layout style;
  overflow-anchor: none; /* Prevent scroll anchoring issues */
}

// Prevent ResizeObserver loops in common problematic elements
iframe,
.q-layout,
.q-page-container,
.q-router-view {
  contain: size layout style;
}

// Prevent ResizeObserver infinite loops
.q-page,
.q-layout,
.q-page-container {
  will-change: auto;
  contain: layout style;
}

// Custom styles
.q-page {
  // Font family now applied globally
}

// Purple theme colors
.bg-purple-1 {
  background-color: #f5f3ff !important;
}

.bg-purple-2 {
  background-color: #ede9fe !important;
}

.bg-purple-7 {
  background-color: #6d28d9 !important;
}

.text-purple-8 {
  color: #5b21b6 !important;
}

// Blue theme colors
.bg-blue-1 {
  background-color: #eff6ff !important;
}

.border-blue-2 {
  border-color: #dbeafe !important;
}

.text-blue-6 {
  color: #2563eb !important;
}

.bg-blue-6 {
  background-color: #2563eb !important;
}

// Grey variations
.bg-grey-2 {
  background-color: #f9fafb !important;
}

.bg-grey-3 {
  background-color: #f3f4f6 !important;
}

.text-grey-6 {
  color: #6b7280 !important;
}

.text-grey-7 {
  color: #374151 !important;
}

.text-grey-9 {
  color: #111827 !important;
}

// Green colors
.text-green-7 {
  color: #16a34a !important;
}

// Card shadows
.q-card {
  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05) !important;
}

// Smooth transitions optimized to prevent ResizeObserver issues
.q-btn,
.q-card,
.q-chip {
  transition: all 0.2s ease;
  will-change: auto;
}

// Optimize hover animations
*:hover {
  will-change: auto;
}

// Prevent layout thrashing on dynamic content
.grid,
[class*='grid'],
.participants-section,
.content-grid,
.stats-grid,
.stats-row {
  contain: layout;
}

// Prevent ResizeObserver loops in common patterns
.q-page-container,
.q-layout-page,
.waiting-room-page,
.profile-page,
.challenges-page {
  contain: layout style;
  will-change: auto;
}

// Optimize flex and grid layouts
[class*='flex'],
[class*='grid'] {
  will-change: auto;
}

// Chat messages specific optimizations
.chat-messages {
  contain: layout style;
  overflow-anchor: auto;
  scroll-behavior: smooth;
}

// Custom scrollbar for chat
.chat-messages::-webkit-scrollbar {
  width: 4px;
}

.chat-messages::-webkit-scrollbar-track {
  background: #f1f1f1;
}

.chat-messages::-webkit-scrollbar-thumb {
  background: #c1c1c1;
  border-radius: 2px;
}

.chat-messages::-webkit-scrollbar-thumb:hover {
  background: #a8a8a8;
}

// Prevent resize issues in message elements
.message-wrapper,
.message-row,
.message-bubble {
  contain: layout;
  will-change: auto;
}

// Responsive design
@media (max-width: 1024px) {
  .features-section {
    padding: 40px 20px;
  }

  .feature-card {
    width: 100% !important;
    margin-bottom: 20px;
  }
}

@media (max-width: 768px) {
  .q-page {
    padding: 12px !important;
  }

  .row.q-gutter-lg {
    flex-direction: column;
  }

  .col-8,
  .col-4 {
    max-width: 100%;
    flex: none;
  }

  .chat-card {
    height: 500px;
  }
}

// Custom border utilities
.border-bottom {
  border-bottom: 1px solid #e5e7eb;
}

.border-b-1 {
  border-bottom: 1px solid #e5e7eb;
}

// Animation for hoverable elements
.cursor-pointer:hover {
  color: #2563eb !important;
  transition: color 0.2s ease;
}
